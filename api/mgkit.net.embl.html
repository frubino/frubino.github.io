

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mgkit.net.embl module &mdash; MGKit: Metagenomic framework 0.5.5 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mgkit.net.pfam module" href="mgkit.net.pfam.html" />
    <link rel="prev" title="mgkit.net package" href="mgkit.net.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> MGKit: Metagenomic framework
          

          
          </a>

          
            
            
              <div class="version">
                0.5.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipeline/index.html">Metagenomic Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/index.html">Scripts Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Example Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gff.html">MGKit GFF Specifications</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../library.html">Library Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="mgkit.html">mgkit package</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.align.html">mgkit.align module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.consts.html">mgkit.consts module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.counts.html">mgkit.counts package</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.counts.func.html">mgkit.counts.func module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.counts.glm.html">mgkit.counts.glm module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.counts.scaling.html">mgkit.counts.scaling module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.db.html">mgkit.db package</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.db.dbm.html">mgkit.db.dbm module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.db.mongo.html">mgkit.db.mongo module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.filter.html">mgkit.filter package</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.filter.common.html">mgkit.filter.common module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.filter.gff.html">mgkit.filter.gff module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.filter.lists.html">mgkit.filter.lists module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.filter.reads.html">mgkit.filter.reads module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.filter.taxon.html">mgkit.filter.taxon module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.graphs.html">mgkit.graphs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.io.html">mgkit.io package</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.io.blast.html">mgkit.io.blast module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.io.fasta.html">mgkit.io.fasta module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.io.fastq.html">mgkit.io.fastq module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.io.gff.html">mgkit.io.gff module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.io.glimmer.html">mgkit.io.glimmer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.io.snpdat.html">mgkit.io.snpdat module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.io.uniprot.html">mgkit.io.uniprot module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.io.utils.html">mgkit.io.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.kegg.html">mgkit.kegg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.logger.html">mgkit.logger module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.mappings.html">mgkit.mappings package</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.mappings.cazy.html">mgkit.mappings.cazy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.mappings.eggnog.html">mgkit.mappings.eggnog module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.mappings.enzyme.html">mgkit.mappings.enzyme module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.mappings.go.html">mgkit.mappings.go module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.mappings.pandas_map.html">mgkit.mappings.pandas_map module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.mappings.taxon.html">mgkit.mappings.taxon module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.mappings.utils.html">mgkit.mappings.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.net.html">mgkit.net package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">mgkit.net.embl module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.net.pfam.html">mgkit.net.pfam module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.net.uniprot.html">mgkit.net.uniprot module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.net.utils.html">mgkit.net.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.plots.html">mgkit.plots package</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.plots.abund.html">mgkit.plots.abund module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.plots.boxplot.html">mgkit.plots.boxplot module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.plots.colors.html">mgkit.plots.colors module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.plots.heatmap.html">mgkit.plots.heatmap module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.plots.unused.html">mgkit.plots.unused module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.plots.utils.html">mgkit.plots.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.simple_cache.html">mgkit.simple_cache module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.snps.html">mgkit.snps package</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.snps.classes.html">mgkit.snps.classes module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.snps.conv_func.html">mgkit.snps.conv_func module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.snps.filter.html">mgkit.snps.filter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.snps.funcs.html">mgkit.snps.funcs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.snps.mapper.html">mgkit.snps.mapper module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.taxon.html">mgkit.taxon module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.utils.html">mgkit.utils package</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.utils.common.html">mgkit.utils.common module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.utils.dictionary.html">mgkit.utils.dictionary module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.utils.sequence.html">mgkit.utils.sequence module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.utils.trans_tables.html">mgkit.utils.trans_tables module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.workflow.html">mgkit.workflow package</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.workflow.add_gff_info.html">mgkit.workflow.add_gff_info module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.workflow.blast2gff.html">mgkit.workflow.blast2gff module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.workflow.extract_gff_info.html">mgkit.workflow.extract_gff_info module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.workflow.fasta_utils.html">mgkit.workflow.fasta_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.workflow.fastq_utils.html">mgkit.workflow.fastq_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.workflow.filter_gff.html">mgkit.workflow.filter_gff module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.workflow.hmmer2gff.html">mgkit.workflow.hmmer2gff module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.workflow.json2gff.html">mgkit.workflow.json2gff module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.workflow.sampling_utils.html">mgkit.workflow.sampling_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.workflow.snp_parser.html">mgkit.workflow.snp_parser module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.workflow.taxon_utils.html">mgkit.workflow.taxon_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mgkit.workflow.utils.html">mgkit.workflow.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html">mgkit</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changes</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MGKit: Metagenomic framework</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../library.html">Library Reference</a> &raquo;</li>
        
          <li><a href="mgkit.html">mgkit package</a> &raquo;</li>
        
          <li><a href="mgkit.net.html">mgkit.net package</a> &raquo;</li>
        
      <li>mgkit.net.embl module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/mgkit.net.embl.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-mgkit.net.embl">
<span id="mgkit-net-embl-module"></span><h1>mgkit.net.embl module<a class="headerlink" href="#module-mgkit.net.embl" title="Permalink to this headline">¶</a></h1>
<p>Access EMBL Services</p>
<dl class="py data">
<dt id="mgkit.net.embl.EMBL_DBID">
<code class="sig-prename descclassname">mgkit.net.embl.</code><code class="sig-name descname">EMBL_DBID</code><em class="property"> = 'embl_cds'</em><a class="headerlink" href="#mgkit.net.embl.EMBL_DBID" title="Permalink to this definition">¶</a></dt>
<dd><p>Default database id</p>
</dd></dl>

<dl class="py exception">
<dt id="mgkit.net.embl.EntryNotFound">
<em class="property">exception </em><code class="sig-prename descclassname">mgkit.net.embl.</code><code class="sig-name descname">EntryNotFound</code><a class="reference internal" href="../_modules/mgkit/net/embl.html#EntryNotFound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mgkit.net.embl.EntryNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Raised if at least one entry was not found by <a class="reference internal" href="#mgkit.net.embl.get_sequences_by_ids" title="mgkit.net.embl.get_sequences_by_ids"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_sequences_by_ids()</span></code></a>.
<a class="reference internal" href="#mgkit.net.embl.NOT_FOUND" title="mgkit.net.embl.NOT_FOUND"><code class="xref py py-data docutils literal notranslate"><span class="pre">NOT_FOUND</span></code></a> is used to check if any entry wasn’t downloaded.</p>
</dd></dl>

<dl class="py data">
<dt id="mgkit.net.embl.LOG">
<code class="sig-prename descclassname">mgkit.net.embl.</code><code class="sig-name descname">LOG</code><em class="property"> = &lt;Logger mgkit.net.embl (WARNING)&gt;</em><a class="headerlink" href="#mgkit.net.embl.LOG" title="Permalink to this definition">¶</a></dt>
<dd><p>Log instance for this module</p>
</dd></dl>

<dl class="py data">
<dt id="mgkit.net.embl.NONE_FOUND">
<code class="sig-prename descclassname">mgkit.net.embl.</code><code class="sig-name descname">NONE_FOUND</code><em class="property"> = 'ERROR 12.+?.\\n?'</em><a class="headerlink" href="#mgkit.net.embl.NONE_FOUND" title="Permalink to this definition">¶</a></dt>
<dd><p>Regular expression to check if no entry was found, used by <a class="reference internal" href="#mgkit.net.embl.NoEntryFound" title="mgkit.net.embl.NoEntryFound"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NoEntryFound</span></code></a></p>
</dd></dl>

<dl class="py data">
<dt id="mgkit.net.embl.NOT_FOUND">
<code class="sig-prename descclassname">mgkit.net.embl.</code><code class="sig-name descname">NOT_FOUND</code><em class="property"> = 'Entry: .+? not found.\\n'</em><a class="headerlink" href="#mgkit.net.embl.NOT_FOUND" title="Permalink to this definition">¶</a></dt>
<dd><p>Appears in the resulting fasta (not tried on other formats) in the case that at
least one entry wasn’t found.</p>
</dd></dl>

<dl class="py exception">
<dt id="mgkit.net.embl.NoEntryFound">
<em class="property">exception </em><code class="sig-prename descclassname">mgkit.net.embl.</code><code class="sig-name descname">NoEntryFound</code><a class="reference internal" href="../_modules/mgkit/net/embl.html#NoEntryFound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mgkit.net.embl.NoEntryFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Raised if no sequences where found by <a class="reference internal" href="#mgkit.net.embl.get_sequences_by_ids" title="mgkit.net.embl.get_sequences_by_ids"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_sequences_by_ids()</span></code></a>, the
check is based on the <a class="reference internal" href="#mgkit.net.embl.NONE_FOUND" title="mgkit.net.embl.NONE_FOUND"><code class="xref py py-data docutils literal notranslate"><span class="pre">NONE_FOUND</span></code></a> variable.</p>
</dd></dl>

<dl class="py data">
<dt id="mgkit.net.embl.URL_REST">
<code class="sig-prename descclassname">mgkit.net.embl.</code><code class="sig-name descname">URL_REST</code><em class="property"> = 'http://www.ebi.ac.uk/Tools/dbfetch/dbfetch/'</em><a class="headerlink" href="#mgkit.net.embl.URL_REST" title="Permalink to this definition">¶</a></dt>
<dd><p>Base URL for EMBL DBFetch REST API</p>
</dd></dl>

<dl class="py function">
<dt id="mgkit.net.embl.datawarehouse_search">
<code class="sig-prename descclassname">mgkit.net.embl.</code><code class="sig-name descname">datawarehouse_search</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">query</span></em>, <em class="sig-param"><span class="n">domain</span><span class="o">=</span><span class="default_value">'sequence'</span></em>, <em class="sig-param"><span class="n">result</span><span class="o">=</span><span class="default_value">'sequence_release'</span></em>, <em class="sig-param"><span class="n">display</span><span class="o">=</span><span class="default_value">'fasta'</span></em>, <em class="sig-param"><span class="n">offset</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">length</span><span class="o">=</span><span class="default_value">100000</span></em>, <em class="sig-param"><span class="n">contact</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">download</span><span class="o">=</span><span class="default_value">'gzip'</span></em>, <em class="sig-param"><span class="n">url</span><span class="o">=</span><span class="default_value">'http://www.ebi.ac.uk/ena/data/warehouse/search?'</span></em>, <em class="sig-param"><span class="n">fields</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mgkit/net/embl.html#datawarehouse_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mgkit.net.embl.datawarehouse_search" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.2.3: </span>added <em>fields</em> parameter to retrieve tab separated information</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.1.13.</span></p>
</div>
<p>Perform a datawarehouse search on EMBL dbs. Instructions on the query
language used to query the datawarehouse are available at <a class="reference external" href="http://www.ebi.ac.uk/ena/about/browser#data_warehouse">this page</a> with more details
about the databases domains <a class="reference external" href="http://www.ebi.ac.uk/ena/data/warehouse/usage">at this page</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – query for the search enging</p></li>
<li><p><strong>domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – database domain to search</p></li>
<li><p><strong>result</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – domain result requested</p></li>
<li><p><strong>display</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – display option (format to retrieve the entries)</p></li>
<li><p><strong>offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the offset of the search results, defaults to the first</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – number of results to retrieve at the specified offset
and the limit is automatically set a 100,000 records for query</p></li>
<li><p><strong>contact</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – email of the user</p></li>
<li><p><strong>download</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – type of response. Gzip responses are automatically
decompressed</p></li>
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – base URL for the resource</p></li>
<li><p><strong>fields</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em>, </em><em>iterable</em>) – must be an iterable of fields to be returned
if display is set to <em>report</em></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the raw request</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Querying EMBL for all sequences of type rRNA of the  <em>Clostridium</em>
genus. Only from the EMBL release database in fasta format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">query</span> <span class="o">=</span> <span class="s1">&#39;tax_tree(1485) AND mol_type=&quot;rRNA&quot;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;sequence_release&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">display</span> <span class="o">=</span> <span class="s1">&#39;fasta&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">embl</span><span class="o">.</span><span class="n">datawarehouse_search</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">result</span><span class="o">=</span><span class="n">result</span><span class="p">,</span>
<span class="gp">... </span><span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="go">35919</span>
</pre></div>
</div>
<p>Each entry taxon_id from the same data can be retrieved using <em>report</em>
as the <em>display</em> option and <em>fields</em> an iterable of fields to just
(‘accession’, tax_id’):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">query</span> <span class="o">=</span> <span class="s1">&#39;tax_tree(1485) AND mol_type=&quot;rRNA&quot;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;sequence_release&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">display</span> <span class="o">=</span> <span class="s1">&#39;report&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;accession&#39;</span><span class="p">,</span> <span class="s1">&#39;tax_id&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">embl</span><span class="o">.</span><span class="n">datawarehouse_search</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">result</span><span class="o">=</span><span class="n">result</span><span class="p">,</span>
<span class="go">    display=display, fields=fields)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="mgkit.net.embl.dbfetch">
<code class="sig-prename descclassname">mgkit.net.embl.</code><code class="sig-name descname">dbfetch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">embl_ids</span></em>, <em class="sig-param"><span class="n">db</span><span class="o">=</span><span class="default_value">'embl'</span></em>, <em class="sig-param"><span class="n">contact</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">out_format</span><span class="o">=</span><span class="default_value">'seqxml'</span></em>, <em class="sig-param"><span class="n">num_req</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mgkit/net/embl.html#dbfetch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mgkit.net.embl.dbfetch" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">New in version 0.1.12.</span></p>
</div>
<p>Function that allows to use dbfetch service (REST). More information on the
output formats and the database available at the
<a class="reference external" href="http://www.ebi.ac.uk/Tools/dbfetch/syntax.jsp">service page</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embl_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>iterable</em>) – list or single sequence id to retrieve</p></li>
<li><p><strong>db</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – database from which retrieve the sequence data</p></li>
<li><p><strong>contact</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – email contact to use as per EMBL guidlines</p></li>
<li><p><strong>out_format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – output format, depends on database</p></li>
<li><p><strong>num_req</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – number of ids per request</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list with the results from each request sent. Each request sent
has a maximum number <em>num_req</em> of ids, so the number of items in the
list depends by the number of ids in <em>embl_ids</em> and the value of
<em>num_req</em>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mgkit.net.embl.get_sequences_by_ids">
<code class="sig-prename descclassname">mgkit.net.embl.</code><code class="sig-name descname">get_sequences_by_ids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">embl_ids</span></em>, <em class="sig-param"><span class="n">contact</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">out_format</span><span class="o">=</span><span class="default_value">'fasta'</span></em>, <em class="sig-param"><span class="n">num_req</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">embl_db</span><span class="o">=</span><span class="default_value">'embl_cds'</span></em>, <em class="sig-param"><span class="n">strict</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mgkit/net/embl.html#get_sequences_by_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mgkit.net.embl.get_sequences_by_ids" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.3.4: </span>removed <em>compress</em> as it’s bases on the <cite>requests</cite> package</p>
</div>
<p>Downloads entries using EBI REST API. It can download one entry at a
time or accept an iterable and all sequences will be downloaded in batches
of at most num_req.</p>
<p>It’s fairly general, so can be customised, from the DB used to the output
format: all batches are simply concatenate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are some checks on the some errors reported by the EMBL api, but
not documented, in particular two errors, which are just reported as
text lines in the fasta file (the only one tested at this time).</p>
<p>The are two possible cases:</p>
<ul class="simple">
<li><p>if no entry was found <a class="reference internal" href="#mgkit.net.embl.NoEntryFound" title="mgkit.net.embl.NoEntryFound"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NoEntryFound</span></code></a> will be raised.</p></li>
<li><p>if at least one entry wasn’t found:</p>
<ul>
<li><p>if strict is False (the default) the error will be just logged as a
debug message</p></li>
<li><p>if strict is True <a class="reference internal" href="#mgkit.net.embl.EntryNotFound" title="mgkit.net.embl.EntryNotFound"><code class="xref py py-exc docutils literal notranslate"><span class="pre">EntryNotFound</span></code></a> is raised</p></li>
</ul>
</li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embl_ids</strong> (<em>iterable</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – list of ids to download</p></li>
<li><p><strong>contact</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – email address to be passed in the query</p></li>
<li><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – format of the entry</p></li>
<li><p><strong>num_req</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – number of entries to download with each request</p></li>
<li><p><strong>embl_db</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – db to which the ids refer to</p></li>
<li><p><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – if True, a check on the number of entries retrieved is
performed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the entries requested</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#mgkit.net.embl.EntryNotFound" title="mgkit.net.embl.EntryNotFound"><strong>EntryNotFound</strong></a> – if at least an entry was not found</p></li>
<li><p><a class="reference internal" href="#mgkit.net.embl.NoEntryFound" title="mgkit.net.embl.NoEntryFound"><strong>NoEntryFound</strong></a> – if NO entry were found</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The number of sequences that can be downloaded at a time is 11, it
seems, since the returned sequences for each request was at most 11. I
didn’t find any mention of this in the API docs, but it may be a
restriction that’s temporary.</p>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mgkit.net.pfam.html" class="btn btn-neutral float-right" title="mgkit.net.pfam module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mgkit.net.html" class="btn btn-neutral float-left" title="mgkit.net package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2013-2020, Francesco Rubino

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>